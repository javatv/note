---
layout: post
title: Class文件结构和字节码指令
---

# Class文件结构和字节码指令

## JVM的无关性

### 平台无关性

我们刚开始接触Java的时候就听说过Java是一门跨平台的语言，也就是说Java是平台无关性的，那么，到底什么是平台无关性？

平台无关性是建立在操作系统上，虚拟机厂商提供了许多可以运行在各种不同平台的虚拟机，它们都可以载入和执行一种叫字节码的文件，从而实现程序的“一次编写，到处运行”。

也就是说各种平台的虚拟机与所有平台都统一使用的程序存储格式为**字节码**（ByteCode），而字节码就是构成平台无关性的基石，也是语言无关性的**基础**。

### 语言无关性

Java 虚拟机不和包括 Java 在内的任何语言绑定，它只与**Class 文件**这种特定的二进制文件格式所关联，Class 文件中包含了 Java 虚拟机**指令集**和符号表以及若干其他辅助信息。也就是说不管什么语言，只要你能编译为Class文件，JVM就能执行。

![image-20210825225823417](https://cdn.javatv.net/note/20210825225823.png)

## 了解Class类文件

Java 技术能够一直保持非常好的向后兼容性，这点 Class 文件结构的稳定性功不可没。Java 已经发展到 14 版本，但是 class 文件结构的内容，绝大部分在JDK1.2 时代就已经定义好了。虽然 JDK1.2 的内容比较古老，但是 java 发展经历了十余个大版本，但是每次基本上知识在原有结构基础上新增内容、扩充功能，并未对定义的内容做修改。

任何一个 Class 文件都对应着唯一一个类或接口的定义信息，但反过来说，Class 文件实际上它并不一定以磁盘文件的形式存在（比如可以动态生成、或者直接送入类加载器中）。Class 文件是一组以 8 位字节为基础单位的**二进制流**。

我们写一个HelloWorld程序

